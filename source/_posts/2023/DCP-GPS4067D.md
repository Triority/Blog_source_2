---
title: 电磁炉：使用IGBT主动关断控制
tags:
  - 电磁炉
  - 电力电子
  - PCB设计
cover: /img/fbq.png
categories:
- 折腾记录
date: 2023-10-10 12:31:00
description: 使用IGBT：GPS4067D主动关断的进阶版本
---
# 主动关断概述
之前已经完成了一个使用晶闸管的版本，晶闸管的缺点就是无法控制关闭，线圈电流只能等电容完全放电完成和二极管反向短路放电完成之后才能完全归零，这段时间仍然会产生磁场吸引炮弹，导致反拉，反而降低速度，所以需要主动关断停止电容放电，同时线圈也应该在续流二极管上串联电阻加速反向电流衰减。

同时主动关断可以让电容在放电之后仍有一定能量储存，便于下一次升压发射，也就是说减少下一次发射充电时间，连发速度更快

有一篇文章讲了相关内容：[浅谈电炮能量回收——斩波电路与绕组能量回收](https://www.kechuang.org/t/87752)

放一个IGBT的参数在这：IRGPS4067D
![](QQ截图20230626014726.png)
# 实操
## 电路设计1.0
目前的电路设计原理上没什么问题，用直流电源30V测试工作良好。主要是当充电电压大于300V时线圈位置有可能会有电火花，同时IGBT击穿，初步判断是PCB的电容和线圈距离过小直接击穿线圈绝缘层或者线圈本身被击穿

以及光耦提供的驱动电流有限，PC817C只能提供0.2A的驱动电流，IGBT栅极有几十us的上升时间，不知道是不是导致损坏的原因

| ![](QQ截图20231010124847.png)  | ![](QQ截图20231010124819.png)  |
| :------------: | :------------: |
| 原理图  | PCB模型  |

## 电路设计2.0
针对之前的问题，首先使用tc2240驱动芯片来驱动IGBT提高栅极驱动速度，然后电容和线圈分开放置防止隔空击穿

额tc2240怎么这么贵啊笑死自己用三极管搭一个吧还是(这个是欧阳鑫给的驱动图):

![](b7e2ec0014f30cb7c8f6a371270e939.jpg)

> 欧阳鑫原话：ss8550和s8050的BE脚并1k电阻主要是防止小电流开启，还有就是让上升沿下降沿更快些，毕竟单片机输出有些电流拖尾，不加这1k电阻，直接放大的话单片机关闭后很小的电流拖尾都被放大了

再次反转发现一个还挺便宜的驱动芯片看网友评价还不错？拿来试试看：`eg27324`还是一个双路低端驱动，可以一个板子做两级减少铜柱花费hhh

2023.10.13：出了点小问题，坏消息是我仿真发现IGBT因为电流限制在前几级甚至不如直接用晶闸管，好消息是我找了一个eg的半桥芯片，没有闭锁电路的，可以同时驱动上下半桥，所以...顺手直接把H桥的方案画了，也就是说读者可以直接[跳转到H桥电路的文章](https://triority.cc/2023/DCP-H/)

