---
title: 电磁炉：电源部分-ZVS升压电路和稳压输出
tags:
  - 电磁炉
  - 电力电子
  - PCB设计
cover: /img/v2-100f3b14743b9c8fe3e58536acaa072c_r.png
categories:
- 折腾记录
date: 2023-9-20 13:09:19
description: 控制zvs充电电压
---
# 概述
一般充电电路采用的都是zvs电路，直流逆变到高频交流，然后变压器升压，整流逆变之后给电容充电

具体的充电电压，一般使用电容耐压450V，充电到400V可以初速最大化，但是充电时间更长，而且效率更低，综合考虑充电时间等因素，250V或300V最合理

如果希望弹道稳定，那就需要精准控制电容充电电压，看其他人的方案一般上下浮动5V就可以大致控制落点。

可以使用继电器控制zvs升压的开关，之后也可以改成mos管控制(原理上其实没啥区别)，就是继电器延迟更大可能不够精准

# zvs
b站上有个up详细讲解了无抽头zvs的原理：

{% raw %}
<div style="position: relative; width: 100%; height: 0; padding-bottom: 75%;">
<iframe src="//player.bilibili.com/player.html?aid=683950620&bvid=BV1UU4y127Gt&cid=717467029&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="position: absolute; width: 100%; height: 100%; Left: 0; top: 0;" ></iframe></div>
{% endraw %}

这个视频已经讲的很详细了，但是这个电路输出的是高频交流，我们需要高压直流，而且绝对不能高于电容的耐压。高压直流好办，zvs输出的高频交流经过变压器升压，得到高压交流，再经过整流桥得到高压直流。但是如何限制最高电压好久没找到可信的方案。

之前电磁炮原件是在tb的电磁爱好家买的，我去问了升压模块原理图，他给我发了个这个：
![zvs升压电路](8de9584e18cd329317822012d20e009b.jpg)

显然没有我想要的变压器右边的内容，不过可以留着将来自己做元件选型时候用。
今天在科创网上看见一些范例看起来还可行：

[简单的电容充电限压电路](https://www.kechuang.org/t/53017)

![电容充电限压](电容充电限压.png)

> 主要是LM393P电压比较器，对分压后的电容电压进行检测，达到指定值（通过R3调节）后驱动8550来控制ZVS的开启与关闭（这个控制端怎么接就不用细说了吧~）；
通过R7的正反馈使LM393P产生迟滞效应，实际效果如：电容充至405V关，降到395V开，以此循环；
调节R7可以调整迟滞的范围，不加此电阻的话会导致ZVS不停的开启关闭，此时ZVS中的MOS管会较大的损耗发热

大草在网上看见一个没有迟滞效应的，输出这样的：

![示波器](SDS2502XPlus_PNG_6.png)

这要是直接接进去mos死得惨啊hhhhc

到这里直流升压电路理论上基本完成，有空画个电路图，然后等到开学去再选型制作等。

# 开始制作：2023.10.19
虽然前面写的是无抽头的，但是我选用的变压器的初级是有抽头的所以改成这个方案(而且省下一个电感钱捏)

## 选型

整流桥是KBU810，8A，1000V，整流桥价格差的不多，电流余量留大一点给未来1000W的用

安规电容x2做谐振电容，275V，0.68uf，以及次级输出的滤波电容是cbb电容，630v100nf

电感大部分人推荐的是50A的电感，但是我觉得200W的功率下30A的电感其实也足够了(主要是便宜一半多的价钱)
![](80744d6641f6b1eeb3cd457683ebc8e.jpg)

变压器是高频升压3+3:110功率200W，但是未来可能换成更大的1000W的另一个型号，大概是长这样：

| ![](055435e79723270fdaf48b5150b58e2.jpg)  | ![](11fc579bfb3f5c95989dac205c9dcf4.jpg)  |
| :------------: | :------------: |
|  200W(3+3:110) | 1000W(3+3:85)  |

mos管用手头一大堆的nce6080a

## 洞洞板实验成功2023.10.22

在洞洞板上成功实现，输入12V，空载逆变得到峰值大约40V，21.7kHz的正弦波，电源电流0.2A，变压器升压并逆变之后得到552V直流

![](微信图片_20231022221839_1.jpg)
![](微信图片_20231022221839.jpg)
![](微信图片_20231022221839_2.jpg)
![](微信图片_20231022221839_3.jpg)

但是这个电路升压完成后不可以直接连接电容，输出电流过大导致zvs震荡无法维持，必须加限流电阻。我目前用的一个470欧5瓦水泥电阻，没有尝试过更小阻值，但是470目前表现良好。目前认为可能和我用的可调电源有关，最大输出电流只有6.4A，电源因为过流限压到4V左右应该是无法起振的原因，之后用电池试一试

在加上限流电阻的情况下，给一个900V3000uf的电解电容组充电到500V仅需几秒(因为没有足够大功率电源没详细测过)，充电显然是越来越慢的因为压差降低，因此建议电源输入更高，比如电源16V就很不错

附赠学弟用焊锡丝短路充电400V的3000uf电容组的视频(真正的实验室安全教育)

{% dplayer "url=d4e4da8173750bf5b3e040a3b433aab0.mp4" %}

我觉得我还是很需要一个大功率可调电源的hhh应该尽快开始做

## 200W版本PCB设计
| ![](微信截图_20231110092432.png) | ![](微信截图_20231110092456.png) | ![](微信截图_20231110092513.png) |
| :------------: | :------------: | :------------: |
| 原理图 | PCB | 3D |

输出限流其实可以用更小的电阻，实测220也能正常工作，更小还没试过

> WARNING:
> 已知严重bug:电路输出滤波电容没有加放电电阻，断电后触摸有触电风险！
> 但是100nf电容的能量只会让你麻一下hhhc
> 务必注意用后短路一下输出端进行放电，或者并联放电电阻，推荐1M欧1W电阻
> ![](微信图片_20231113160735.jpg)

## 200W版本改进
首先删掉了输出限流电阻换成了电容限流，LC震荡频率为19.3kHz，每个680nf电容容抗约为11.88Ω，因为很难计算需要的限流量因此保留了几个电容位，同时删除了输出电容避免了电人情况hhh

![](微信截图_20231227143801.png)

## 1000W版本设计
首先是ZVS震荡的电路改为双管并联增大电流，然后加入了输入电流电压检测避免停震导致的过热损坏，
